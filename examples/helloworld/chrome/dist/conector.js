const a0_0x23c397=function(){let _0x2b6b4e=!![];return function(_0x10e961,_0x1aefa5){const _0x309186=_0x2b6b4e?function(){if(_0x1aefa5){const _0x4c6f79=_0x1aefa5['apply'](_0x10e961,arguments);_0x1aefa5=null;return _0x4c6f79;}}:function(){};_0x2b6b4e=![];return _0x309186;};}();(function(){a0_0x23c397(this,function(){const _0x2e0aa9=new RegExp('function\x20*\x5c(\x20*\x5c)');const _0xf5b862=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i');const _0x351fc7=a0_0x4f5371('init');if(!_0x2e0aa9['test'](_0x351fc7+'chain')||!_0xf5b862['test'](_0x351fc7+'input')){_0x351fc7('0');}else{a0_0x4f5371();}})();}());'use strict';class ControlEvent extends CustomEvent{constructor(_0xeb06ab,_0x46361f){super(_0xeb06ab,{'detail':{'message':_0x46361f,'time':new Date()},'bubbles':!0x0,'cancelable':!0x0}),this['nameEvent']=_0xeb06ab,this['detailMessage']=_0x46361f,this['inicio']=new Date(),this['customTarget']=null,this['finishEvent']=!0x1,this['finishTime'],this['data'];}['setData'](_0x789d28){this['data']=_0x789d28;}['getData'](){return this['data'];}['getEvent'](){return this['event'];}['getName'](){return this['nameEvent'];}['assignEvent'](_0x54e344,_0x1bcb85){try{_0x54e344['addEventListener'](this['nameEvent'],_0x1bcb85,!0x1);}catch(_0x1737c6){console['log'](_0x1737c6),console['log']('Error\x20al\x20asignar\x20objeto');}}['removeEvent'](_0x33b5d4,_0x22169d){try{_0x33b5d4['removeEventListener'](this['nameEvent'],_0x22169d,!0x0);}catch(_0x517053){console['log']('Error\x20al\x20remover\x20objeto');}}}class ConectorP2P{constructor(){this['extensionParent']='',this['port']=null,this['extensionName']='',this['messageRequest']=[],this['messageResponse']=[],this['peername']='',this['extensionId']='',this['resultQuery']=null,this['signal']=!0x1,this['msjData'],this['customExtension'],this['eventos']=[],this['nameEvent']='';}['setNameEvent'](_0x238ea1){this['nameEvent']=_0x238ea1;}['addEventElem'](_0x5476f1,_0x464673){try{let _0x3c63e1=new ControlEvent(_0x5476f1+this['nameEvent'],''),_0x39d76f=document['createElement']('BUTTON'+this['nameEvent']);_0x3c63e1['assignEvent'](_0x39d76f,_0x464673),this['eventos'][_0x5476f1]={'domelem':_0x39d76f,'action':_0x3c63e1};}catch(_0x585445){console['log']('Error\x20al\x20realizar\x20addEvent.'),console['log'](_0x585445);}}['getEventElem'](_0x29ae1c){try{if(this['eventos'][_0x29ae1c])return this['eventos'][_0x29ae1c];}catch(_0x113a36){console['log']('Error\x20getEvento'),console['log'](_0x113a36);}}['setExtension'](_0x2ca659){this['customExtension']=_0x2ca659;}['getExtension'](){return this['customExtension'];}['getResultQuery'](){return this['resultQuery'];}['getData'](){return this['msjData'];}['getNamePeer'](){return this['peername'];}['connect'](){try{this['port']=chrome['runtime']['connect'](this['getParentConector']());}catch(_0x17deca){console['log']('Error\x20al\x20realizar\x20conector'),console['log'](_0x17deca);}}['getData'](){return this['msjData'];}['setSignal'](_0x37e518){this['signal']=_0x37e518;}['sendEvent'](_0x576d14){if(this['signal']){this['msjData']=_0x576d14;let _0x8c30fd=JSON['parse'](_0x576d14);if('responseQuery'==_0x8c30fd['type']){let _0x572f78=this['getEventElem'](_0x8c30fd['method']);_0x572f78&&_0x572f78['domelem']['dispatchEvent'](_0x572f78['action']);}}}['getConnect'](){try{return this['port'];}catch(_0x4924ea){console['log']('Error\x20al\x20realizar\x20retornar\x20puerto\x20de\x20conexion'),console['log'](_0x4924ea);}}['setName'](_0x6608d1){this['extensionName']=_0x6608d1;}['getName'](){return this['extensionName'];}['setParentConector'](_0x5361d1){try{this['extensionParent']=_0x5361d1;}catch(_0x4cf8c1){console['log'](_0x4cf8c1);}}['getParentConector'](){return this['extensionParent'];}['sendData'](_0x58e7f0){try{this['port']['postMessage'](JSON['stringify'](_0x58e7f0));}catch(_0x2b1d52){console['log']('Error\x20al\x20enviar\x20datos\x20desde\x20la\x20extension'),console['log'](_0x2b1d52);}}['sendQuery'](_0x455dc8,_0xf8e698){try{try{_0x455dc8['keys']?this['addEventElem'](_0x455dc8['keys']['query'],_0xf8e698):console['log']('NO\x20EXISTE\x20EVENTO\x20PARA\x20LA\x20RESPUESTA.');}catch(_0x224392){console['log']('No\x20existe\x20evento\x20aun');}this['signal']=!0x0,this['getQuery'](_0x455dc8);}catch(_0x149016){console['log']('Error\x20al\x20enviar\x20consulta\x20remota'),console['log'](_0x149016);}}['removeQuery'](_0x4e88d0,_0x14087a){}['getExtensionId'](){return this['extensionId'];}['setNameExtensionId'](_0x5d846c){this['extensionId']=_0x5d846c;}['getQuery'](_0x245515){try{let _0x4f6100=_0x245515,_0x3b34e4=null;_0x4f6100['data']&&(_0x3b34e4=_0x4f6100['data']);let _0x1adb4a={'type':'queryExtension','keys':_0x4f6100['keys'],'data':_0x3b34e4,'extensioname':this['getName'](),'extensionId':this['getExtensionId']()};this['sendData'](_0x1adb4a);}catch(_0x438973){console['log']('Error\x20al\x20realizar\x20pedido\x20de\x20peers\x20remotos.'),console['log'](_0x438973);}}['getDataResponseQuery'](_0x1c00bd){try{let _0x44c200=JSON['parse'](_0x1c00bd);this['resultQuery']=null,_0x44c200['type']&&(this['resultQuery']=_0x44c200['data']);}catch(_0x4f3f89){console['log']('Error\x20al\x20realizar\x20parser\x20de\x20query'),console['log'](_0x4f3f89);}}['removeListenerQuery'](_0x166ead){try{this['port']['onMessage']['hasListener'](_0x166ead)?this['port']['onMessage']['removeListener'](_0x166ead):console['log']('No\x20existe\x20una\x20listener\x20a\x20remover.');}catch(_0x48054d){console['log']('Remove\x20listener\x20query'),console['log'](_0x48054d);}}['getRequestMessage'](){let _0x39e621={'type':'messagesRequest','extensioname':this['getName']()};this['sendData'](_0x39e621);}['getResponseMessage'](){let _0x1ba581={'type':'messagesResponse','extensioname':this['getName']()};this['sendData'](_0x1ba581);}['extractDataCallback'](){try{let _0x534499=null;return this['getDataResponseQuery'](this['getData']()),null==this['getResultQuery']()&&'undefined'==this['getResultQuery']()?(console['log']('No\x20hay\x20datos\x20disponibles'),null):(_0x534499=this['getResultQuery'](),_0x534499);}catch(_0x2fdd65){console['log']('Error\x20al\x20realizar\x20extrac:\x20',_0x2fdd65);}}['instalarExtension'](_0xdb8384){try{let _0x2b9317={'type':'addExtension','name':this['getName'](),'id':this['getExtensionId'](),'description':_0xdb8384['description'],'category':_0xdb8384['category']};this['sendData'](_0x2b9317);}catch(_0x3581a0){console['log']('Error\x20al\x20instalar\x20la\x20extension'),console['log'](_0x3581a0);}}['sendDataType'](_0x4b147d,_0x1fdc53,_0x31b1ee,_0x36d7c5,_0x43e561){try{let _0x7686c4={'extensioname':_0x4b147d,'type':_0x43e561,'data':_0x31b1ee,'id':_0x1fdc53,'destiny':_0x36d7c5};this['sendData'](_0x7686c4);}catch(_0x5b09f5){console['log']('Error\x20al\x20realizar\x20send\x20request');}}}class ListActionExtension{constructor(){this['actionCalls']=[];}['addAction'](_0x585d01){this['actionCalls']['push'](_0x585d01);}['getAction'](_0x5977d9){return this['actionCalls']['find'](_0x530f95=>_0x530f95['getName']()==String(_0x5977d9));}}class ActionAddon{constructor(_0x2a1e97){this['name']=_0x2a1e97;}['getName'](){return this['name'];}['setName'](_0x46a1c8){this['name']=_0x46a1c8;}['do'](_0x13ffe7=null,_0x5e923f=null){console['log']('Implementar');}}class RequestAction extends ActionAddon{constructor(_0x18ae96){super(_0x18ae96);}['do'](_0x214fb7,_0x5e2a0d=null){console['log']('request\x20sin\x20accept'),chrome['notifications']['create']({'type':'basic','iconUrl':chrome['extension']['getURL']('icons/quicknote-48.png'),'title':'Llega\x20un\x20request\x20del\x20Peer\x20remoto:\x20'+_0x214fb7['source'],'message':'Para\x20aceptar\x20el\x20request\x20tiene\x20que\x20aceptar\x20el\x20mensaje'});}}class RequestAcceptAction extends ActionAddon{constructor(_0x4b3cdb){super(_0x4b3cdb);}['do'](_0x129f23,_0x1ab927){try{let _0x21a76c=_0x129f23['data'];_0x21a76c['data']['automatic']?_0x1ab927['automaticProcessing'](_0x21a76c['data'],_0x21a76c['source']):_0x1ab927['processRequest'](_0x21a76c['data'],_0x21a76c['source']);}catch(_0x30daac){console['error']('Error\x20al\x20ejecutar\x20RequestCMD:\x20',_0x30daac);}}}class ResponseAction extends ActionAddon{constructor(_0x4b48e3){super(_0x4b48e3);}['do'](_0x214169,_0x5e139b=null){try{console['log']('response\x20llego'),chrome['notifications']['create']({'type':'basic','iconUrl':chrome['extension']['getURL']('icons/quicknote-48.png'),'title':'Llega\x20un\x20response\x20del\x20Peer\x20remoto:\x20'+_0x214169['source'],'message':'Para\x20aceptar\x20el\x20response\x20tiene\x20que\x20aceptar\x20el\x20mensaje'});}catch(_0x169cad){console['error']('Error\x20al\x20ejecutar\x20RequestCMD:\x20',_0x169cad);}}}class ResponseAcceptAction extends ActionAddon{constructor(_0x2713a8){super(_0x2713a8);}['do'](_0x1f9da7,_0x57260f=null){try{let _0x1044ea=_0x1f9da7['data'];_0x57260f['receiveResponse'](_0x1044ea['data'],_0x1044ea['source']);}catch(_0x5d2298){console['error']('Error\x20al\x20ejecutar\x20RequestCMD:\x20',_0x5d2298);}}}class AbstractP2PExtensionBackground{constructor(){this['portEvent'],this['conector'],this['callback'],this['description']='',this['category']='',this['name']='',this['extensionid']='';}['setDescription'](_0x46a8a1){this['description']=_0x46a8a1;}['getDescription'](){return this['description'];}['setCategory'](_0x2d6c63){this['category']=_0x2d6c63;}['getCategory'](){return this['category'];}['setExtensionName'](_0x3cc6d0){this['name']=_0x3cc6d0;}['setExtensionId'](_0x471e51){this['extensionid']=_0x471e51;}['getExtensionName'](){return this['name'];}['getExtensionId'](){return this['extensionid'];}['config'](){this['conector']['setName'](this['getExtensionName']()),this['conector']['setNameExtensionId'](this['getExtensionId']()),this['conector']['connect'](),this['portEvent']=this['conector']['getConnect']();let _0x1a7ca5=new ListActionExtension();_0x1a7ca5['addAction'](new RequestAction('Request')),_0x1a7ca5['addAction'](new RequestAcceptAction('AcceptRequest')),_0x1a7ca5['addAction'](new ResponseAction('Response')),_0x1a7ca5['addAction'](new ResponseAcceptAction('AcceptResponse'));let _0x12a0e9=this;this['portEvent']['onMessage']['addListener'](function(_0x445254){let _0x46a3ac=JSON['parse'](_0x445254);_0x12a0e9['conector']['sendEvent'](_0x445254);let _0x288367=_0x1a7ca5['getAction'](_0x46a3ac['type']);_0x288367&&_0x288367['do'](_0x46a3ac,_0x12a0e9);});let _0x4919f={'description':this['getDescription'](),'category':this['getCategory']()};this['conector']['instalarExtension'](_0x4919f);}['connect'](){this['conector']=new ConectorP2P(),this['conector']['setNameEvent'](this['getExtensionName']()),this['conector']['setExtension'](this);let _0x386fa1=!0x1,_0x55e9d3=this;chrome['management']['getAll'](function(_0x907210){if(_0x907210['length']>0x0)for(let _0x288809=0x0;_0x288809<_0x907210['length'];_0x288809++)if(_0x907210[_0x288809]['enabled']&&'MDP2P'==_0x907210[_0x288809]['name']){_0x55e9d3['conector']['setParentConector'](_0x907210[_0x288809]['id']),_0x386fa1=!0x0;break;}_0x386fa1?_0x55e9d3['config']():(console['log']('NO\x20POSEE\x20FUNCIONALIDAD\x20OPTIMA\x20SOBRE\x20P2P.'),chrome['notifications']['create']({'type':'basic','iconUrl':chrome['extension']['getURL']('icons/store-48.png'),'title':'NO\x20ES\x20POSIBLE\x20INSTALAR\x20SATISFACTORIAMENTE:\x20','message':'MIDDLEWARE\x20NO\x20INSTALADO.'}));});}['initialize'](){console['log']('Para\x20tener\x20en\x20cuenta');}['getQueryP2P'](_0x6c9d1d,_0x51da25,_0x5c9b66){try{this['conector']['sendQuery']({'keys':{'query':_0x51da25},'data':_0x5c9b66},_0x6c9d1d);}catch(_0x2a9141){console['log']('Error\x20al\x20realizar\x20peticion\x20de\x20peers:\x20',_0x2a9141);}}['sendResponse'](_0x3f9baa,_0x41040f){console['log']('Send\x20response'),this['conector']['sendDataType'](this['getExtensionName'](),this['getExtensionId'](),_0x3f9baa,_0x41040f,'Response');}['sendRequest'](_0x166984,_0x26182b){console['log']('Send\x20Request'),this['conector']['sendDataType'](this['getExtensionName'](),this['getExtensionId'](),_0x166984,_0x26182b,'Request');}['getDataCallBack'](){return this['conector']['extractDataCallback']();}}function a0_0x4f5371(_0x5d098c){function _0x89f0d1(_0x16f5ed){if(typeof _0x16f5ed==='string'){return function(_0x361563){}['constructor']('while\x20(true)\x20{}')['apply']('counter');}else{if((''+_0x16f5ed/_0x16f5ed)['length']!==0x1||_0x16f5ed%0x14===0x0){(function(){return!![];}['constructor']('debu'+'gger')['call']('action'));}else{(function(){return![];}['constructor']('debu'+'gger')['apply']('stateObject'));}}_0x89f0d1(++_0x16f5ed);}try{if(_0x5d098c){return _0x89f0d1;}else{_0x89f0d1(0x0);}}catch(_0x3228e2){}}